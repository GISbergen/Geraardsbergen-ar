<script>
  const statusDiv = document.getElementById('status');

  function updateStatus(message, isError = false) {
    statusDiv.textContent = (isError ? '❌ FOUT: ' : '✅ ') + message;
    statusDiv.style.backgroundColor = isError ? '#800' : '#083';
  }

  // Vraag alleen toestemming, open GEEN stream
  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
    navigator.mediaDevices.getUserMedia({ video: true })
      .then(() => {
        updateStatus("Camera is toegankelijk. AR wordt geladen...");
        // Laat AR.js zelf de stream beheren
      })
      .catch((err) => {
        updateStatus(`Camera-error: ${err.name} - ${err.message}`, true);
        console.error("Camera error:", err.name, err.message);
      });
  } else {
    updateStatus("Deze browser ondersteunt geen camera-toegang.", true);
  }
</script>
